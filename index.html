<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bilal Abboud - Laser Scientist & Engineer</title>
    <style>
        :root {
            --primary-bg: #f4f4f4;
            --secondary-bg: #ffffff;
            --header-bg: #333;
            --text-color: #333;
            --text-light: #f1f1f1;
            --accent-color: #007bff;
            --border-color: #e0e0e0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.7;
            margin: 0;
            background-color: var(--primary-bg);
            color: var(--text-color);
        }

        /* --- Top Navigation Header --- */
        .main-header {
            background-color: var(--header-bg);
            color: var(--text-light);
            padding: 0 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        .logo h1 {
            margin: 0;
            font-size: 1.5rem;
        }
        .main-nav a {
            color: var(--text-light);
            text-decoration: none;
            padding: 1.5rem 1rem;
            display: inline-block;
            transition: background-color 0.2s;
        }
        .main-nav a:hover {
            background-color: #444;
        }
        .main-nav a.active {
            background-color: var(--accent-color);
        }
        
        /* --- Main Content --- */
        .main-content {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .content-panel {
            display: none;
            background-color: var(--secondary-bg);
            padding: 2rem;
            border-radius: 8px;
            animation: fadeIn 0.5s;
        }
        .content-panel.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Projects Section: Categories & Previews --- */
        .category-card {
            background: #f9f9f9;
            padding: 1.5rem 2rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .category-card:hover {
            border-color: var(--accent-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transform: translateY(-2px);
        }
        .category-card h3 { margin-bottom: 0.25rem; }
        .category-card p { margin: 0; color: #666; }
        
        /* --- Project Preview with Cover Image --- */
        .project-preview {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .project-preview:hover {
            border-color: var(--accent-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        .preview-image {
            width: 150px;
            height: 100px;
            object-fit: cover;
            border-radius: 4px;
            flex-shrink: 0;
        }
        .preview-text-content {
            flex: 1;
            position: relative;
            height: 6.8em;
            overflow: hidden;
        }
        .preview-text-content h3 { margin-top: 0; margin-bottom: 0.5rem; }
        .preview-text-content p { color: #666; margin: 0; }
        .preview-text-content::after {
            content: '';
            position: absolute;
            bottom: 0; right: 0;
            width: 100%; height: 2.5em;
            background: linear-gradient(to bottom, transparent, var(--secondary-bg));
        }

        /* --- Projects Section: Breadcrumbs & Back Button --- */
        .breadcrumbs {
            margin-bottom: 1.5rem;
            font-size: 1rem;
            color: #555;
        }
        .breadcrumbs span {
            cursor: pointer;
            color: var(--accent-color);
        }
        .breadcrumbs span:hover { text-decoration: underline; }
        
        .back-button {
            display: inline-block;
            background: none; border: none;
            color: var(--accent-color); font-size: 1rem; font-weight: bold;
            cursor: pointer; padding: 0.5rem 0; margin-bottom: 1.5rem;
        }

        /* --- General Blog Post Styling --- */
        .blog-post-content h3 { margin-top: 0; font-size: 1.8rem; }
        .blog-post-content h4 { font-size: 1.5rem; margin-top: 2.5rem; border-bottom: 1px solid #eee; padding-bottom: 0.5rem;}
        .blog-post-content h5 { font-size: 1.2rem; margin-top: 2rem; }
        
        /* === THIS IS THE FIX FOR IMAGE WIDTH === */
        .blog-post-content img {
            max-width: 100%; /* Ensures image is never wider than its container */
            height: auto; /* Maintains aspect ratio */
            border-radius: 5px;
            margin: 1.5rem 0; /* Vertical spacing */
            display: block; /* Ensures it's on its own line */
            border: 1px solid var(--border-color); /* Adds a subtle frame */
            box-shadow: 0 2px 8px rgba(0,0,0,0.05); /* Adds a subtle shadow */
        }
        
        .disclaimer { background-color: #fffbe6; border-left: 4px solid #ffc107; padding: 1rem; margin: 1.5rem 0; }
        pre { background-color: #2d2d2d; color: #f8f8f2; padding: 1em; overflow-x: auto; border-radius: 5px; font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 0.9em; }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="header-container">
            <div class="logo">
                <h1>Bilal Abboud</h1>
            </div>
            <nav class="main-nav">
                <a href="#" class="nav-link active" data-target="projects">Projects</a>
                <a href="#" class="nav-link" data-target="about">About Me</a>
                <a href="#" class="nav-link" data-target="contact">Contact</a>
            </nav>
        </div>
    </header>

    <main class="main-content">

        <div id="projects" class="content-panel active">
            <div class="breadcrumbs">Projects</div>
            
            <div id="category-list" class="view">
                <h2>Project Categories</h2>
                <div class="category-card" data-category="spectroscopy">
                    <h3>Spectroscopy</h3>
                    <p>Analysis and modification of spectroscopic instruments.</p>
                </div>
                <div class="category-card" data-category="microscopy">
                    <h3>Microscopy</h3>
                    <p>Custom-built microscopic tools and imaging systems.</p>
                </div>
                <div class="category-card" data-category="night-vision">
                    <h3>Night Vision</h3>
                    <p>Exploring and building devices for low-light imaging.</p>
                </div>
            </div>

            <div id="project-list" class="view" style="display: none;">
                </div>

            <div id="project-full-view" class="view" style="display: none;">
                </div>
        </div>
        
        <div id="about" class="content-panel">
            <h2>About Me</h2>
            <p>Hello! I'm Bilal Abboud, a young laser scientist and engineer from Berlin. This website showcases some of the personal projects I've worked on.</p>
        </div>

        <div id="contact" class="content-panel">
            <h2>Get In Touch</h2>
            <ul style="list-style: none; padding: 0;">
                <li style="margin-bottom: 1rem;"><strong>Email:</strong> <a href="mailto:berlinphoton@gmail.com">berlinphoton@gmail.com</a></li>
                <li style="margin-bottom: 1rem;"><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/bilal-abboud/" target="_blank">linkedin.com/in/bilal-abboud</a></li>
                <li style="margin-bottom: 1rem;"><strong>GitHub:</strong> <a href="https://github.com/santoabboud" target="_blank">github.com/santoabboud</a></li>
            </ul>
        </div>
    </main>
    
    <div id="project-storage" style="display: none;">
    
        <div class="project-data" data-category="spectroscopy">
            <div class="preview-content">
                <img class="preview-image" src="https://github.com/user-attachments/assets/eb921588-6b9b-4bfe-9254-a1c86b63da56" alt="Cover image for USB2000 project">
                <div class="preview-text-content">
                    <h3>Ocean Optics USB2000 Firmware update</h3>
                    <p>This is a compilation of info about Ocean Optics USB2000 spectrometers and a guide to flashing them with firmware on the board level. The Ocean Optics USB2000 is a compact crossed Czerny-Turner type spectrometer...</p>
                </div>
            </div>
            <div class="full-content blog-post-content">
                <h3>Ocean Optics USB2000 Firmware update</h3>
                <div class="disclaimer"><p><strong>Disclaimer:</strong> I am not responsible for any damages caused by using this procedure. You can use it at your own risk.</p></div>
                <h4>Introduction</h4>
                <p>The Ocean Optics USB2000 is a compact crossed Czerny-Turner type spectrometer with SMA905 fiber optic input and a 10-pin IO (connector is Samtec IPS1-105-01-S-D-RA, avail. from Mouser). The IO can be used to trigger spectral captures and to trigger external devices, such as flashlamps, lasers etc.. The optical design is very similar to it's predecessor, the Ocean Optics S2000, and has been used in later models as well. It uses the Sony ILX511 linear CCD image sensor and can be found in various configurations ranging from Deep UV over vis to NIR.</p>
                <p>Here's a sketch of the optical layout of the USB4000 spectrometer, which is pretty much identical to the USB2000's.<br><em>Image credit: Fernando Sebastián Chiwo on ResearchGate.</em></p>
                <img src="https://github.com/user-attachments/assets/0aeec642-dd8b-4bae-9265-e9d3c2807801" alt="Layout_USB2K">
                <p>...and the real thing:</p>
                <img src="https://github.com/user-attachments/assets/cae66f44-db83-419b-b6c7-e5cece646956" alt="Layout">
                <p>While it is rare to find units that are configured to measure spectra beyond 880nm, I have modified a USB2000 to measure up to 1080nm with still acceptable sensitivity for laser building applications.</p>
                <p>The USB2000 spectrometer has seen use in many different applications. Most times it is used with Ocean Optics' firmware installed and with Ocean Optics Software such as OceanView. Thermo Fisher Scientific however used the USB2000 with custom firmware in their Nanodrop Series Microvolume UV-vis Spectrophotometers for Biotech applications (Nanodrop 2000, uses small xenon flashlamp as broadband light source). Unfortunately, their firmware disables use with third-party or Ocean Optics software, and disables the possibility to directly flash Ocean Optics firmware with the OOI USB Programmer Software tool by Ocean Optics.</p>
                <p><strong><em>To get around this issue it is possible to...</em></strong></p>
                <h4>Directly flash the EEPROM that stores the firmware.</h4>
                <p>You will need:</p>
                <ul><li>Arduino Uno</li><li>Arduino (Wireless) SD shield</li><li>4x mini probing grabbers</li><li>SD card</li><li>jumper cables</li></ul>
                <h5>Opening up the USB2000:</h5>
                <p>Use a razor blade or a suitable alternative to gently peel back the corners of the lid sticker. I recommend doing this step carefully, both to avoid injury and to retain the spectrometer's resale value and aesthetics ;) If the USB2000 is missing the lid sticker, skip this step.</p>
                <p>Screw location shown on a unit without the lid sticker:</p>
                <img src="https://github.com/user-attachments/assets/3b1642ff-d517-4365-a463-14678c337c1f" alt="NoSticker">
                <p><strong>If you have located all four corner screws, unscrew them.</strong></p>
                <img src="https://github.com/user-attachments/assets/3eaafccb-7831-45f8-96a5-7ccb042882c5" alt="StickerLid">
                <p>Once the screws are removed, pull the the lid up by prying from the gap between the USB 2.0 Type B port and the lid. It should open up, revealing the circuit board.</p>
                <img src="https://github.com/user-attachments/assets/05b8056c-d707-40d2-ad41-744653f47a93" alt="20250118_182039">
                <h5>Connecting to the EEPROM</h5>
                <p>First locate the EEPROM, on which the firmware is stored. The model number is 24LC256. The EEPROM communicates via I<sup>2</sup>C. The location is marked in the pitures below:</p>
                <img src="https://github.com/user-attachments/assets/c345c3fb-77dd-4e8d-9fa6-5eef5105bf1d" alt="20250118_182135">
                <p>close-up view:</p>
                <img src="https://github.com/user-attachments/assets/20154351-0ffe-4b8b-8571-499dc61cc347" alt="20250118_182156">
                <p>Now use a mini probing grabber to connect to the following pins:</p>
                <ul><li>VCC to a +3.3V or +5V supply</li><li>VSS to GND</li><li>SDA to Analog Pin 4</li><li>SCL to Analog Pin 5</li></ul>
                <img src="https://github.com/user-attachments/assets/a3878a98-8b6f-4a4a-af3b-ceceab6394df" alt="24LC256_pinout">
                <p>It should look something like this:</p>
                <img src="https://github.com/user-attachments/assets/eb921588-6b9b-4bfe-9254-a1c86b63da56" alt="probing">
                <h4>Flashing the EEPROM</h4>
                <p>Load the firmware file <code>usb2000v2510.iic</code> onto the SD card. Now put the SD card into the Arduino SD shield. Use the Arduino to run the following code:</p>
                <pre><code>// Full Arduino code here...
</code></pre>
                <p>After this, your USB2000 spectrometer should have been flashed with the correct firmware for it and can be used with Ocean Optics' software. Now you can connect the spectrometer to your PC and run the OOI USB Programmer tool by Ocean Optics. It should show up now and even have all the calibration data still on it (although it makes sense to at least verify the calibration after all the years - for a quick and dirty check, checking against the spectral peaks of a fluorescent lamp works. For a more refined calibration, you should use a dedicated Mercury Argon spectral lamp.)</p>
                <p>The calibration procedure is laid out in Appendix A on pp. 35 - 39 of the <code>Ocean_Optics_USB2000_Operating_Instructions_Manual.pdf</code>, which can be found in this repository.</p>
                <h5>Unlock Codes</h5>
                <p>To unlock all features of Ocean Optics' softwares, there are unlock codes. <strong><em>!!! These should be used carefully, as they can modify devices in non-reversible ways. !!!</em></strong> For the OOI USB Programmer the unlock code is "UNLOCKALL". For OceanView the unlock code is "oceanfactory". With these unlock codes, you can flash the calibration coefficients you calculated to the spectrometer.</p>
                <p>Good luck and have fun!</p>
            </div>
        </div>

        <div class="project-data" data-category="microscopy">
             <div class="preview-content">
                <img class="preview-image" src="https://via.placeholder.com/150x100.png?text=Frankenscope" alt="Cover image for Frankenscope">
                <div class="preview-text-content">
                    <h3>The Frankenscope: A Microscopic Multi-tool</h3>
                    <p>This Microscope consists of a Mitutoyo FS70L4 as its core and a Physik Instrumente six-axis closed-loop piezo hexapod stage. It is currently equipped with a passively q-switched 1064nm DPSS laser...</p>
                </div>
            </div>
            <div class="full-content blog-post-content">
                <h3>The Frankenscope: A Microscopic Multi-tool</h3>
                <img src="https://via.placeholder.com/800x400.png?text=Main+Microscope+Image" alt="The Frankenscope">
                <p>This Microscope consists of a Mitutoyo FS70L4 as its core and a Physik Instrumente six-axis closed-loop piezo hexapod stage. It is currently equipped with a passively q-switched 1064nm DPSS laser or an optional TEEM Photonics 266nm sub-nanosecond pulsewidth deep UV laser for the most delicate work (teardown documentation coming soon), an Ocean Optics USB2000+ UV-NIR spectrometer for LIBS and Raman Analysis, a TILL Photonics Polychrome IV tunable wavelength short arc xenon light source as well as a LabJack T4 for general control.</p>
                <p>It is also capable of conducting Infrared in-situ microscopy or IRIS in short. See Bunnie Huang's work for more info about that :-)</p>
            </div>
        </div>

        <div class="project-data" data-category="night-vision">
             <div class="preview-content">
                <img class="preview-image" src="https://via.placeholder.com/150x100.png?text=NV+Device" alt="Cover image for night vision project">
                <div class="preview-text-content">
                    <h3>DIY Digital Night Vision Monocular</h3>
                    <p>A project exploring the construction of a digital night vision device using a sensitive CMOS sensor and an infrared illuminator. The goal was to create a compact and affordable alternative to commercial units...</p>
                </div>
            </div>
            <div class="full-content blog-post-content">
                <h3>DIY Digital Night Vision Monocular</h3>
                <p>This is the full content for the DIY Digital Night Vision project. Here I would describe the components used, such as the specific low-light CMOS sensor, the lens assembly, the IR LED array, and the power management system. I would also include details about the 3D printed enclosure and the software running on the microcontroller.</p>
                <img src="https://via.placeholder.com/800x400.png?text=Night+Vision+Device" alt="DIY Night Vision Device">
            </div>
        </div>
        
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const mainNavLinks = document.querySelectorAll('.main-nav .nav-link');
        const contentPanels = document.querySelectorAll('.main-content .content-panel');
        const projectsPanel = document.getElementById('projects');
        
        const breadcrumbsEl = projectsPanel.querySelector('.breadcrumbs');
        const categoryListEl = projectsPanel.querySelector('#category-list');
        const projectListEl = projectsPanel.querySelector('#project-list');
        const projectFullViewEl = projectsPanel.querySelector('#project-full-view');
        
        const allProjectData = document.querySelectorAll('#project-storage .project-data');

        function updateActiveNavLink(targetId) {
            mainNavLinks.forEach(l => l.classList.remove('active'));
            const activeLink = document.querySelector(`.main-nav .nav-link[data-target="${targetId}"]`);
            if (activeLink) activeLink.classList.add('active');
        }

        function showPanel(panelId) {
            contentPanels.forEach(p => p.classList.remove('active'));
            const targetPanel = document.getElementById(panelId);
            if(targetPanel) targetPanel.classList.add('active');
            updateActiveNavLink(panelId);
        }
        
        function showProjectsView(view, context = {}) {
            projectsPanel.querySelectorAll('.view').forEach(v => v.style.display = 'none');
            
            let currentViewEl;
            switch(view) {
                case 'categories':
                    currentViewEl = categoryListEl;
                    breadcrumbsEl.innerHTML = `<span>Projects</span>`;
                    break;
                case 'project-list':
                    currentViewEl = projectListEl;
                    breadcrumbsEl.innerHTML = `<span>Projects</span> &gt; ${context.categoryName}`;
                    populateProjectList(context.category);
                    break;
                case 'full-project':
                    currentViewEl = projectFullViewEl;
                    breadcrumbsEl.innerHTML = `<span>Projects</span> &gt; <span data-category-id="${context.category}" data-category-name="${context.categoryName}">${context.categoryName}</span> &gt; ${context.projectName}`;
                    populateFullProjectView(context);
                    break;
            }
            if (currentViewEl) currentViewEl.style.display = 'block';
        }

        mainNavLinks.forEach(link => {
            link.addEventListener('click', e => {
                e.preventDefault();
                const targetId = link.getAttribute('data-target');
                showPanel(targetId);
                if (targetId === 'projects') {
                    showProjectsView('categories');
                }
            });
        });
        
        breadcrumbsEl.addEventListener('click', e => {
            if (e.target.tagName !== 'SPAN') return;
            const text = e.target.textContent;
            if (text === 'Projects') {
                showProjectsView('categories');
            } else {
                const categoryId = e.target.getAttribute('data-category-id');
                const categoryName = e.target.getAttribute('data-category-name');
                if (categoryId && categoryName) {
                    showProjectsView('project-list', { category: categoryId, categoryName: categoryName });
                }
            }
        });

        categoryListEl.querySelectorAll('.category-card').forEach(card => {
            card.addEventListener('click', () => {
                const categoryId = card.getAttribute('data-category');
                const categoryName = card.querySelector('h3').textContent;
                showProjectsView('project-list', { category: categoryId, categoryName: categoryName });
            });
        });

        function populateProjectList(categoryId) {
            projectListEl.innerHTML = '';
            
            allProjectData.forEach((projectNode, index) => {
                if (projectNode.getAttribute('data-category') === categoryId) {
                    const previewHTML = projectNode.querySelector('.preview-content').innerHTML;
                    const previewCard = document.createElement('div');
                    previewCard.className = 'project-preview';
                    previewCard.innerHTML = previewHTML;
                    previewCard.setAttribute('data-project-index', index);
                    
                    previewCard.addEventListener('click', () => {
                        const projectName = projectNode.querySelector('.preview-content h3').textContent;
                        const categoryName = breadcrumbsEl.textContent.split('>')[1].trim();

                        showProjectsView('full-project', {
                            projectIndex: index,
                            projectName,
                            category: categoryId,
                            categoryName
                        });
                    });
                    projectListEl.appendChild(previewCard);
                }
            });
        }
        
        function populateFullProjectView(context) {
            const projectData = allProjectData[context.projectIndex];
            const fullContentHTML = projectData.querySelector('.full-content').innerHTML;

            const backButton = document.createElement('button');
            backButton.className = 'back-button';
            backButton.textContent = `← Back to ${context.categoryName}`;
            backButton.onclick = () => showProjectsView('project-list', { category: context.category, categoryName: context.categoryName });
            
            projectFullViewEl.innerHTML = '';
            projectFullViewEl.appendChild(backButton);
            
            const contentWrapper = document.createElement('div');
            contentWrapper.innerHTML = fullContentHTML;
            projectFullViewEl.appendChild(contentWrapper);
        }

    });
    </script>
</body>
</html>
